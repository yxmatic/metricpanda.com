<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Web Stuff | Metric Panda Games</title><meta name=description content="Not much coding went into Rival Fortress this week as I decided to give the website a facelift. It has been a while since I dabbled in web dev stuff, so it was fun to get up to ..."><meta name=keywords><meta property=og:title content="Web Stuff | Metric Panda Games"><meta property=og:type content=website><meta property=og:locale content=en_US><meta property=og:url content="https://metricpanda.com/rival-fortress-update-21-web-stuff/"><meta property=og:image content=https://metricpanda.compingdom-website-speed.png><meta name=twitter:title content="Web Stuff"><meta name=twitter:card content=summary_large_image><meta name=twitter:site content=@MetricPandaGame><meta name=twitter:creator content=@Unspongeful><meta name=twitter:description content="Not much coding went into Rival Fortress this week as I decided to give the website a facelift. It has been a while since I dabbled in web dev stuff, so it was fun to get up to ..."><meta name=twitter:url content="https://metricpanda.com/rival-fortress-update-21-web-stuff/"><meta name=twitter:url content="https://metricpanda.com/rival-fortress-update-21-web-stuff/"><meta name=twitter:image content=https://metricpanda.compingdom-website-speed.png><meta name=twitter:image:alt content="Web Stuff"><link rel=canonical href="https://metricpanda.com/rival-fortress-update-21-web-stuff/"><link rel=alternate type=application/rss+xml title="Metric Panda Games" href=https://metricpanda.com/feed.xml><link rel=apple-touch-icon href=apple-icon-precomposed.png><link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" href=https://metricpanda.com/favicon.ico><link data-turbolinks-track=reload rel=stylesheet type=text/css href=/assets/metricpanda-39b1a813586a62f5ab272a1dc423ec22fa36f235ccc08b5ec4a21a2c11cc3fe9.css></head><body><header class="header clearfix"><nav class="navbar navbar-custom js-navbar navbar-fixed-top"><div class=container><h3 class=text-muted><a href="/" class=title-backlink><span class=logo-icon><i class="logo-state sprite sprite-small-logo"></i></span><span class=logo-name>MPG</span></a></h3><ul class=nav><li class="nav-link-important nav-link"><a class=nav-action href=/rival-fortress>rival fortress</a></li><li class=nav-separator><i class="icon icon-circle"></i></li><li class=nav-link><a class=nav-action href="/">news</a></li><li class=nav-link><a class=nav-action href=/press.html>press</a></li><li class=nav-link><a data-turbolinks=false class="nav-action js-search-button search-button" href="/">&nbsp;<i class="icon icon-search"></i></a></li></ul></div></nav><section class="masthead js-masthead"><div class=masthead-home><div class=metric-panda-logo><a href="/" class="sprite sprite-logo"></a></div><h1>Metric Panda Games</h1><h2>One pixel at a time.<i></i></h2></div><div class="home-nav clearfix"><ul class="nav nav-pills"><li class=nav-item><span class="nav-block nav-title">News:</span></li><li class=nav-item><a class="nav-block nav-link" href="/">Featured</a></li><li class=nav-item><a class="nav-block nav-link" href="/news/">All</a></li><li class=nav-item><a class="nav-block nav-link" href=/news/rival-fortress.html>Rival Fortress</a></li><li class=nav-item><a class="nav-block nav-link" href=/news/other.html>Other</a></li></ul></div><div><div class="js-masthead-rainbow masthead-rainbow"><i></i></div></div></section></header><section class="js-search-results search-results"><div class="container page-content"><form class="js-search-form search-form"><div class=input-group><input type=text class="form-control js-search-query" placeholder=Search...> <span class=input-group-btn><button class="btn btn-primary" type=submit>Search</button></span></div></form><div class="js-search-results-list search-results-list posts post-list"></div><div class="js-search-results-listing js-search-result-status search-result-status search-result-listing"><button type=button class="btn btn-success js-close-search">Close <i class="icon icon-cancel-1"></i></button></div><div class="js-search-results-loading js-search-result-status search-result-status search-result-loading"><button type=button class="btn btn-info js-close-search">Loading...</button></div><div class="js-search-results-empty js-search-result-status search-result-status search-result-empty"><button type=button class="btn btn-danger js-close-search">No results found <i class="icon icon-cancel-1"></i></button></div></div></section><section class="js-main-content main-content"><article class="page-width post-page container page-content"><header class=post-header><h1 class=post-title>Web Stuff</h1><p class=game-update><a href=rival-fortress>Rival Fortress Update #21</a></p><p class=post-meta>by <em>Gianni Milanesi</em> <span class=dot>•</span> Category: <a href=/news/rival-fortress.html>Rival Fortress</a></p></header><div class=post-content><div class=post-media></div><p>Not much coding went into <a href=/rival-fortress/index.html>Rival Fortress</a> this week as I decided to give the website a facelift. It has been a while since I dabbled in web dev stuff, so it was fun to get up to speed with how the cool kids are “<a href="http://www.theregister.co.uk/2016/03/23/npm_left_pad_chaos/">left-padding</a>”.</p><p>Get ready for some buzzwords.</p><h2 id=the-web-stack>The web stack</h2><p>I’m using <a href=https://jekyllrb.com>Jekyll</a> to generate the website. I think it’s one of the best static generators out there. It has sensible defaults and is sufficiently fast for my needs.</p><p>The luxury of having a static website also allows for fast and simple deployments: all you need is a webserver that can serve static files like nginx or Apache. I’m using <a href="https://pages.github.com/">Github Pages</a>, as it’s essentially just a <code class=highlighter-rouge>git push</code> to get the site online.</p><p>The asset pipeline is handled by <a href=https://github.com/jekyll/jekyll-assets>jekyll-assets</a> as I’m a big fan of <a href=http://sass-lang.com>SASS</a> and <a href="http://coffeescript.org/">Coffeescript</a>. I’m also using a Ruby plugin to generate <a href="http://twitter.github.io/hogan.js/">Hogan</a> JS templates and one for <a href=https://github.com/jakesgordon/sprite-factory>sprite-factory</a> to generate image sprites.</p><h2 id=automating-with-gulp>Automating with Gulp</h2><p>Build tools like <a href="http://gruntjs.com/">Grunt</a> and <a href="http://gulpjs.com/">Gulp</a> help automate tasks like image compression, and asset minification.</p><p>Gulp tasks that are part of the deployment process are:</p><ul><li><a href=https://github.com/postcss/autoprefixer>Autoprefixer</a> and unused CSS selector remover</li><li>Javascript, JSON, CSS and HTML minification</li><li>Inlining of CSS stylesheets</li><li>Image compression using <a href=https://pngquant.org>pngquant</a>, <a href="http://jpegclub.org/jpegtran/">jpegtran</a> and <a href="http://optipng.sourceforge.net/">optipng</a></li><li>Video encoding to MP4 and Webm using <a href=https://ffmpeg.org>ffmpeg</a></li><li>Uploading to Amazon S3 of encoded videos</li><li>Pinging Google and Bing with the updated <code class=highlighter-rouge>sitemap.xml</code></li></ul><p>A full deploy starting from an empty folder takes about 10 seconds. Successive deploys are in the order of 1-2 seconds thanks to Jekyll’s <code class=highlighter-rouge>--incremental</code> flag and the fact that images don’t need to be re-compressed unless changed.</p><p>This is what a full deploy looks like:</p><figure class="media-wrapper page-media" style=max-width:993px><div class="js-media-player media-player" data-media=gulp-deploy data-format=wide data-loop=false style=padding-bottom:39.57703927492447%;background-image:url(https://s3.amazonaws.com/metricpandacom/gulp-deploy/wide.png);><div class=media-player-placeholder><i class="icon icon-play"></i></div></div><figcaption>Full website deploy with Gulp<a href=/rival-fortress-update-21-web-stuff/index.html title="Rival Fortress Update #21: Web Stuff">Read More</a> <a href=/rival-fortress-update-21-web-stuff/index.html title="Read More..." class=read-more><i class="icon icon-ellipsis"></i></a></figcaption></figure><h2 id=fast-page-load-times>Fast page load times</h2><p>It’s easy to bloat even the simplest website by adding one too many Javascript libraries, forgetting to compress images, or embedding too many external resources.</p><p>Fortunately there are many tools that help us diagnose such problems, like Google’s <a href="https://developers.google.com/speed/pagespeed/insights/">PageSpeed Insights</a> <a href="http://www.webpagetest.org/">Webpage Test</a> or <a href=http://tools.pingdom.com/fpt/#!/exiFck/https://metricpanda.com>Pingdom Website Speed Test</a>.</p><p>The best ways to improve load times are:</p><ul><li>Compress images. <a href="https://addyosmani.com/blog/image-optimization-tools/">Tools for image optimization</a> is an excellent resource</li><li>Minify and combine Javascripts and CSS files into bundles</li><li><a href=https://github.com/giakki/uncss>Remove unused CSS</a></li><li>Inline essential CSS to render above the fold content or, for small websites, inline all your CSS</li><li>Combine images into sprite sheets and use icon fonts like <a href="http://fontawesome.io/">Fontawesome</a></li><li>Use something like <a href=https://github.com/turbolinks/turbolinks>Turbolinks</a> or <a href=https://github.com/defunkt/jquery-pjax>pjax</a> to increase responsiveness</li><li>Use a CDN to deliver static content or signup for <a href="https://www.cloudflare.com/">CloudFlare</a> for a fast and easy solution</li></ul><p>Here are the results from Google Pagespeed Insights when run on this website:</p><div class=post-media></div><aside class="share readable"><span>Share this:</span> <a href="http://twitter.com/share?text=Rival Fortress Update #21: Web Stuff&amp;url=https://metricpanda.com/rival-fortress-update-21-web-stuff/index.html" class=js-analytics data-target=twitter-share onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"><i class="icon icon-twitter"></i></a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://metricpanda.com/rival-fortress-update-21-web-stuff/index.html" class=js-analytics data-target=facebook-share onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;"><i class="icon icon-facebook"></i></a></aside></div><hr class=hr><div class="page-width newsletter-form"><form action=https://tinyletter.com/metricpanda class=js-analytics-form data-target=newsletter-submit method=post target=popupwindow onsubmit="window.open('https://tinyletter.com/metricpanda', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true"><label for=tlemail><b>Metric Panda Digest</b> <em>(sent monthly and <a data-turbolinks=false class=js-analytics data-target=newsletter-preview href=/newsletters/newsletter-2016-september.html>looks like this</a>)</em></label><div class=input-group><input type=email name=email class=form-control id=tlemail placeholder="Enter your email" required> <input type=hidden value=1 name=embed> <span class=input-group-btn><button class="btn btn-primary" type=submit>Submit</button></span></div><small class=text-muted>We hate spam as much as you do!</small></form></div><hr class=hr></article></section><footer class="site-footer clearfix"><ul class="social js-social"><li><a href=https://github.com/MetricPanda class=js-analytics data-target=github-metricpanda-footer target=_blank><i class="icon icon-github-circled"></i> <b>Github</b></a></li></ul><small>&copy; 2019 Metric Panda Games All rights reserved. <i class="icon icon-star-empty" title=d32745f></i></small><div class=footer-logo><i class="icon icon-metric-panda"></i></div></footer><script data-turbolinks-track=reload data-turbolinks-eval=false type=text/javascript src=/assets/metricpanda-642bfda95fce5f4276f3ac16fa8c8ff98d1d3ef275ab201acce574d9b5d1888f.js></script></body></html>